<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meteoclimatic service • meteospain</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Meteoclimatic service">
<meta property="og:description" content="meteospain">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">meteospain</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.4.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="divider">
    </li>
<li class="dropdown-header">Services</li>
    <li>
      <a href="../articles/aemet.html">AEMET service</a>
    </li>
    <li>
      <a href="../articles/meteocat.html">MeteoCat service</a>
    </li>
    <li>
      <a href="../articles/meteogalicia.html">MeteoGalicia service</a>
    </li>
    <li>
      <a href="../articles/ria.html">RIA service</a>
    </li>
    <li>
      <a href="../articles/meteoclimatic.html">Meteoclimatic service</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Workflows</li>
    <li>
      <a href="../articles/api_limits.html">API limits and loops</a>
    </li>
    <li>
      <a href="../articles/compatibility.html">Compatibility between services</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/emf-creaf/meteospain/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="meteoclimatic_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Meteoclimatic service</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/emf-creaf/meteospain/blob/HEAD/vignettes/meteoclimatic.Rmd" class="external-link"><code>vignettes/meteoclimatic.Rmd</code></a></small>
      <div class="hidden name"><code>meteoclimatic.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://emf-creaf.github.io/meteospain/">meteospain</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggforce.data-imaginist.com" class="external-link">ggforce</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-quantities/units/" class="external-link">units</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; udunits database from /Users/runner/work/_temp/Library/units/share/udunits/udunits2.xml</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Linking to GEOS 3.10.2, GDAL 3.4.2, PROJ 8.2.1; sf_use_s2() is TRUE</span></span></code></pre></div>
<div class="section level2">
<h2 id="meteoclimatic-service">Meteoclimatic service<a class="anchor" aria-label="anchor" href="#meteoclimatic-service"></a>
</h2>
<p><a href="https://www.meteoclimatic.net/" class="external-link">Meteoclimatic</a> is a non-professional (amateur) network of automatic meteorological stations. This network cover all Spain, but does not offer quality testing of the data.</p>
<div class="section level3">
<h3 id="meteoclimatic-options">Meteoclimatic options<a class="anchor" aria-label="anchor" href="#meteoclimatic-options"></a>
</h3>
<div class="section level4">
<h4 id="temporal-resolution">Temporal resolution<a class="anchor" aria-label="anchor" href="#temporal-resolution"></a>
</h4>
<p>Meteoclimatic API only offers aggregated data for the current day, so, in this case the <code>resolution</code> parameter is limited to “current_day”.</p>
</div>
<div class="section level4">
<h4 id="stations">Stations<a class="anchor" aria-label="anchor" href="#stations"></a>
</h4>
<p>Meteoclimatic API does not accept multiple stations in the same query. But it has station codes that can access the data from several stations in the same geographic area (i.e. “ES” for all stations, “ESCAT” for all stations in Catalunya, “ESCAT08” for all stations in Barcelona province). So, the <code>stations</code> is limited at length one.</p>
</div>
<div class="section level4">
<h4 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h4>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">api_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/services_options.html">meteoclimatic_options</a></span><span class="op">(</span>stations <span class="op">=</span> <span class="st">'ESCAT08'</span><span class="op">)</span></span>
<span><span class="va">api_options</span></span>
<span><span class="co">#&gt; $resolution</span></span>
<span><span class="co">#&gt; [1] "current_day"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $stations</span></span>
<span><span class="co">#&gt; [1] "ESCAT08"</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="meteoclimatic-stations-info">Meteoclimatic stations info<a class="anchor" aria-label="anchor" href="#meteoclimatic-stations-info"></a>
</h3>
<p>Accessing station metadata for Meteoclimatic is simple:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/get_stations_info_from.html">get_stations_info_from</a></span><span class="op">(</span><span class="st">'meteoclimatic'</span>, options <span class="op">=</span> <span class="va">api_options</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 225 features and 3 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 1.59 ymin: 41.22 xmax: 2.72 ymax: 42.26</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 225 × 4</span></span></span>
<span><span class="co">#&gt;    service       station_id          station_name          geometry</span></span>
<span><span class="co">#&gt;  <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;POINT [°]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> meteoclimatic ESCAT0800000008591A Aiguafreda (Barc… (2.25 41.77)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> meteoclimatic ESCAT0800000008328F Alella-Mirador (… (2.29 41.49)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> meteoclimatic ESCAT0800000008350A Arenys de Mar (B… (2.56 41.59)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> meteoclimatic ESCAT0800000008358A Arenys de Munt (… (2.54 41.61)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> meteoclimatic ESCAT0800000008310B Argentona (Barce… (2.39 41.56)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> meteoclimatic ESCAT0800000008915A Badalona - Bufal… (2.24 41.46)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> meteoclimatic ESCAT0800000008912A Badalona - Centr… (2.25 41.45)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> meteoclimatic ESCAT0800000008911C Badalona - Dalt … (2.26 41.46)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> meteoclimatic ESCAT0800000008917B Badalona - La Pa… (2.22 41.45)</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> meteoclimatic ESCAT0800000008080A Badalona - Llefi… (2.23 41.44)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 215 more rows</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="meteoclimatic-data">Meteoclimatic data<a class="anchor" aria-label="anchor" href="#meteoclimatic-data"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">current_day_barcelona</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_meteo_from.html">get_meteo_from</a></span><span class="op">(</span><span class="st">'meteoclimatic'</span>, options <span class="op">=</span> <span class="va">api_options</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Meteoclimatic is a non-professional network of automatic meteorological stations.</span></span></span>
<span><span class="co"><span style="color: #BBBB00; font-weight: bold;">#&gt; No quality check is performed in this data, and errors in measures or coordinates of stations can be present.</span></span></span>
<span><span class="co"><span style="color: #BBBB00; font-weight: bold;">#&gt; </span><span style="color: #0000BB; font-weight: bold; text-decoration: underline;">https://www.meteoclimatic.net/index</span></span></span>
<span><span class="va">current_day_barcelona</span></span>
<span><span class="co">#&gt; Simple feature collection with 225 features and 9 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 1.59 ymin: 41.22 xmax: 2.72 ymax: 42.26</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 225 × 10</span></span></span>
<span><span class="co">#&gt;    timestamp           service   stati…¹ stati…² min_t…³ max_t…⁴ min_r…⁵ max_r…⁶</span></span>
<span><span class="co">#&gt;  <span style="color: #BCBCBC;">*</span> <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494;">[°C]</span>    <span style="color: #949494;">[°C]</span>     <span style="color: #949494;">[%]</span>     <span style="color: #949494;">[%]</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2022-12-05 <span style="color: #949494;">16:00:00</span> meteocli… ESCAT0… Seva (…    -<span style="color: #BB0000;">2.3</span>    12.4      58      92</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2022-12-05 <span style="color: #949494;">16:00:00</span> meteocli… ESCAT0… La Pob…    -<span style="color: #BB0000;">4.9</span>    11.2      43      86</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2022-12-05 <span style="color: #949494;">16:02:00</span> meteocli… ESCAT0… Granol…     3.7    15.3      62      83</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2022-12-05 <span style="color: #949494;">16:04:00</span> meteocli… ESCAT0… Vallro…     1.1    14.5      69      96</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2022-12-05 <span style="color: #949494;">16:05:00</span> meteocli… ESCAT0… Mollet…     1      13.5      60      90</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2022-12-05 <span style="color: #949494;">16:05:00</span> meteocli… ESCAT0… Mataró…     6.4    13.6      56      81</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2022-12-05 <span style="color: #949494;">16:05:00</span> meteocli… ESCAT0… Bagà (…    -<span style="color: #BB0000;">5</span>       9.7      58      88</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2022-12-05 <span style="color: #949494;">16:06:00</span> meteocli… ESCAT0… Barcel…     7.8    12        46      81</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2022-12-05 <span style="color: #949494;">16:06:00</span> meteocli… ESCAT0… Castel…    -<span style="color: #BB0000;">1</span>      13        49      91</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2022-12-05 <span style="color: #949494;">16:06:00</span> meteocli… ESCAT0… La Flo…     1.3    17.2      48      91</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 215 more rows, 2 more variables: precipitation [L/m^2],</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   geometry &lt;POINT [°]&gt;, and abbreviated variable names ¹​station_id,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ²​station_name, ³​min_temperature, ⁴​max_temperature, ⁵​min_relative_humidity,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   ⁶​max_relative_humidity</span></span></span></code></pre></div>
<p>Visually:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">current_day_barcelona</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">units</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/units/man/drop_units.html" class="external-link">drop_units</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="va">max_temperature</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_colour_viridis_c</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="meteoclimatic_files/figure-html/meteoclimatic_data_plot-1.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">current_day_barcelona</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">max_relative_humidity</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></span>
<span><span class="co">#&gt; Warning: Removed 1 rows containing non-finite values (`stat_bin()`).</span></span></code></pre></div>
<p><img src="meteoclimatic_files/figure-html/meteoclimatic_data_plot-2.png" width="672" style="display: block; margin: auto;"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Victor Granda.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
